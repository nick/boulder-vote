import CandidateData from './Candidates'

const Issues = [
  {
    id: 'municipalization',
    name: 'Municipalization',
    question: 'Do you support Ballot Question 2L, the extension and increase in the existing Utility Occupation Tax that funds the municipalization effort?',
    source: 'http://boulderchamber.com/wp-content/uploads/2017/10/2017-Boulder-City-Council-Candidate-Scorecard_v6.pdf',
    answers: [
      {
        id: 'support',
        description: 'Support'
      },
      {
        id: 'dont-support',
        description: "Don't Support"
      },
      {
        id: 'lean-against',
        description: "Lean Against"
      },
      {
        id: 'no-position',
        description: "No Position Stated"
      },
    ]
  },
  {
    id: 'affordable-housing',
    name: 'Affordable Housing',
    question: 'Should we raise the Commercial Development Affordable Housing Linkage Fee?',
    source: 'http://boulderchamber.com/wp-content/uploads/2017/10/2017-Boulder-City-Council-Candidate-Scorecard_v6.pdf',
    answers: [
      {
        id: 'for-raising-linkage-fee',
        description: 'Yes'
      },
      {
        id: 'against-raising-linkage-fee',
        description: 'No'
      },
      {
        id: 'no-position',
        description: "No Position"
      }
    ]
  },
  {
    id: 'land-use',
    name: 'Land Use',
    question: 'Do you favor the four or three body review process for annexing?',
    source: 'http://www.boulderblueline.org/2017/10/05/council-candidates-fora-reveal-divisions-over-familiar-issues/',
    answers: [
      {
        id: '4-body',
        description: 'Favor 4-body review'
      },
      {
        id: '3-body',
        description: 'Favor 3-body review'
      },
      {
        id: 'no-position',
        description: "No Position"
      }
    ]
  }
];

export default Issues.map(i =>
  Object.assign({}, i, {
      answers: i.answers.map(a =>
          Object.assign({}, a, {
              candidates: CandidateData.filter(c => {
                  var issue = c.issues.find(ci => ci.id === i.id);
                  return issue && issue.answer === a.id;
              })
          })
      )
  })
)
